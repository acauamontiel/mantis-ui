/*
 * Forms Config
 */

$form-field-padding = 5px
$form-field-color = $color.midnight-blue
$form-field-background = $color.white
$form-field-border = 2px solid $color.silver
$form-field-border-radius = $mantis.ui.radius.default
$form-field-transition = $transition.time.fast
$form-field-focus-border-color = $color.asbestos

$form-field-small-padding = 0 5px
$form-field-large-padding = 8px
$form-field-giant-padding = 8px

$form-checkbox-size = 20px
$form-checkbox-margin = 0 10px 0 0
$form-checkbox-color = $color.white
$form-checkbox-background = $form-field-background
$form-checkbox-border = $form-field-border
$form-checkbox-border-radius = $mantis.ui.radius.default
$form-checkbox-transition = $form-field-transition
$form-checkbox-focus-border-color = $form-field-focus-border-color
$form-checkbox-checked-border-color = $form-checkbox-focus-border-color

$form-checkbox-small-size = 15px
$form-checkbox-large-size = 25px
$form-checkbox-giant-size = 30px

$form-radio-border-radius = 50%
$form-radio-checked-border-width = 6px

$form-range-thumb-size = 20px
$form-range-thumb-background = $form-field-background
$form-range-thumb-border = $form-field-border
$form-range-thumb-transition = $form-field-transition
$form-range-focus-thumb-border-color = $color.concrete

$form-range-thumb-small-size = 15px
$form-range-thumb-large-size = 25px
$form-range-thumb-giant-size = 30px

$form-range-track-height = 2px
$form-range-track-background = $color.silver
$form-range-track-transition = $form-field-transition
$form-range-focus-track-background = $form-range-focus-thumb-border-color

$form = {
	field: {
		sizes: {
			small: {
				padding: $form-field-small-padding,
				font-size: $font-size-small
			},
			default: {
				padding: $form-field-padding
			},
			large: {
				padding: $form-field-large-padding,
				font-size: $font-size-large
			},
			giant: {
				padding: $form-field-giant-padding,
				font-size: $font-size-xxlarge
			}
		}
	},
	checkbox: {
		sizes: {
			small: {
				size: $form-checkbox-small-size
			},
			default: {
				size: $form-checkbox-size
			}
			large: {
				size: $form-checkbox-large-size
			},
			giant: {
				size: $form-checkbox-giant-size
			}
		}
	},
	range: {
		sizes: {
			small: {
				size: $form-range-thumb-small-size
			},
			default: {
				size: $form-range-thumb-size
			}
			large: {
				size: $form-range-thumb-large-size
			},
			giant: {
				size: $form-range-thumb-giant-size
			}
		}
	}
}

/*
 * Forms Styles
 */

.form
	&__group
		@extends .p

	&__label
		cursor pointer

	&__field-text
		display block
		width 100%
		padding $form-field-padding
		line-height inherit
		color $form-field-color
		background $form-field-background
		border $form-field-border
		border-radius $form-field-border-radius
		transition $form-field-transition

		&:focus
			border-color $form-field-focus-border-color

	&__field-longtext
		@extends .form__field-text

	// Sizes
	for $size in $form.field.sizes
		&__field--{$size}
			for $prop, $val in $form.field.sizes[$size]
				{$prop} $val

	&__combobox
		position relative

		&:after
			content '▼'
			position absolute
			top 50%
			right 10px
			font-size 10px
			transform translateY(-50%)
			pointer-events none

	&__select
		@extends .form__field-text

	&__checkbox
		position relative
		display inline-block
		size $form-checkbox-size
		margin $form-checkbox-margin
		vertical-align middle
		color $form-checkbox-color
		background $form-checkbox-background
		border $form-checkbox-border
		border-radius $form-checkbox-border-radius
		transition $form-checkbox-transition

		&:after
			content '✔'
			position center
			opacity 0
			transform translate(-50%, -50%) scale(0)
			transition $form-checkbox-transition

		&:focus
			border-color $form-checkbox-focus-border-color

		&:checked
			border-width ($form-checkbox-size / 2)

			&:after
				opacity 1
				transform translate(-50%, -50%) scale(1)

		// Sizes
		for $size in $form.checkbox.sizes
			$border = $form.checkbox.sizes[$size].size / 2

			&--{$size}
				for $prop, $val in $form.checkbox.sizes[$size]
					{$prop} $val

				&:checked
					border-width $border

	&__radio
		@extends .form__checkbox
		border-radius $form-radio-border-radius

		&:after
			content none

		&:checked
			border-width $form-radio-checked-border-width

	&__range
		range-thumb-top($size)
			return (($size / 2) * -1) + ($form-range-track-height / 2)

		width 100%
		height $form-range-thumb-size
		appearance none

		&:focus
			+range-thumb()
				border-color $form-range-focus-thumb-border-color

			+range-track()
				background $form-range-focus-track-background

		+range-thumb()
			position relative
			top range-thumb-top($form-range-thumb-size)
			size $form-range-thumb-size
			background $form-range-thumb-background
			border $form-range-thumb-border
			border-radius 50%
			box-sizing border-box
			transition $form-range-thumb-transition
			appearance none

		+range-track()
			position relative
			height $form-range-track-height
			background $form-range-track-background
			transition $form-range-track-transition
			appearance none

		// Sizes
		for $size in $form.range.sizes
			$s = $form.range.sizes[$size].size
			&--{$size}
				+range-thumb()
					top range-thumb-top($s)
					size $s

	&__color
		@extends .form__field-text

		+color-swatch-wrapper()
			padding 0

		+color-swatch()
			border none
			border-radius $form-field-border-radius
